#  Copyright (c) 2005-2007 Andre Merzky (andre@merzky.net)
# 
#  Distributed under the Boost Software License, Version 1.0. 
#  (See accompanying file LICENSE.txt or copy at 
#   http://www.boost.org/LICENSE_1_0.txt)

# vim: ft=make

ifndef MAKE_CFG_IN
       MAKE_CFG_IN=yes

TMP_SAGA_LOCATION = @TMP_SAGA_LOCATION@
TMP_SAGA_INSTTYPE = @TMP_SAGA_INSTTYPE@
HAVE_PNG          = @SAGA_HAVE_PNG@
HAVE_X11          = @SAGA_HAVE_X11@

ifeq "$(TMP_SAGA_INSTTYPE)" "source"
  SAGA_ROOT              = $(TMP_SAGA_LOCATION)
  SAGA_MAKE_INCLUDE_ROOT = $(TMP_SAGA_LOCATION)/make
else
  SAGA_LOCATION          = $(TMP_SAGA_LOCATION)
  SAGA_MAKE_INCLUDE_ROOT = $(TMP_SAGA_LOCATION)/share/saga/make
endif


ifeq "$(HAVE_PNG)" "yes"
 SAGA_CXXFLAGS  += -D_HAVE_PNG
else
 SAGA_CXXFLAGS  += -D_HAVE_PNG -I../external/libpng/
 SAGA_LDFLAGS   += ../external/libpng/libpng.a
endif

-include ../config/pngwriter/pngwriter.mk


ifeq "$(HAVE_FREETYPE)" "no"
 FLAGS          += -DHAVE_FREETYPE
 SAGA_CXXFLAGS  += -I../external/libfreetype/include/
 SAGA_LDFLAGS   += ../external/libfreetype/libfreetype.a
endif

ifeq "$(HAVE_X11)" "yes"
 SAGA_CXXFLAGS  += -DHAVE_X11 -I/usr/X11/include
 SAGA_LDFLAGS   += -L/usr/X11/lib   -lX11
endif



include $(SAGA_MAKE_INCLUDE_ROOT)/saga.util.mk

endif # guard

